# üö® –°–†–û–ß–ù–´–ï –ò–ù–°–¢–†–£–ö–¶–ò–ò –î–õ–Ø –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –°–ï–†–í–ï–†–ê

## –ü—Ä–æ–±–ª–µ–º–∞
–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –∏–º–µ–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –∫–æ–ª–æ–Ω–æ–∫, –∏–∑-–∑–∞ —á–µ–≥–æ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∞–¥–º–∏–Ω–∫–∏.

## –†–µ—à–µ–Ω–∏–µ

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
```bash
# –ó–∞–π–¥–∏—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä –ø–æ SSH –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
cd /var/www/bot_business_card
python3 emergency_fix_db.py
pm2 restart botdev-admin
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ü–æ–ª–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π
```bash
# –ó–∞–π–¥–∏—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä –ø–æ SSH –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
cd /var/www/bot_business_card
python3 run_fixes.py
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –†—É—á–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
```bash
# –ï—Å–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–∫—Ä–∏–ø—Ç—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç:
cd /var/www/bot_business_card
sqlite3 db.sqlite

# –í –∫–æ–Ω—Å–æ–ª–∏ SQLite –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
ALTER TABLE projects ADD COLUMN source_deal_id INTEGER;
ALTER TABLE projects ADD COLUMN paid_amount REAL DEFAULT 0.0;
ALTER TABLE finance_transactions ADD COLUMN account VARCHAR(50) DEFAULT 'card';
ALTER TABLE deals ADD COLUMN converted_to_project_id INTEGER;
.exit

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
pm2 restart botdev-admin
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞
–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤ –¥–æ–ª–∂–Ω–∞ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å—Å—è
2. –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤ –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å
3. –ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ª–∏–¥—ã, –∫–ª–∏–µ–Ω—Ç–æ–≤ –∏ —Å–¥–µ–ª–∫–∏

## –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –æ—Å—Ç–∞–µ—Ç—Å—è
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
```bash
pm2 logs botdev-admin --lines 50
```

–ò –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –∏—Ö –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞.